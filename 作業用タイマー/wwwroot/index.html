<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <title>プライベート用タイマー v2.8</title>
    <meta name="theme-color" content="#007bff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>

<!-- Login Panel -->
<section id="authPanel" style="display:none; position:fixed; top:12px; right:12px; z-index:9999; width:320px; padding:12px; border:1px solid rgba(255,255,255,0.15); border-radius:12px; background:rgba(20,20,24,0.92); backdrop-filter: blur(6px);">
  <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
    <strong style="font-size:14px;">ログイン</strong>
    <button id="authCloseBtn" type="button" style="border:none; background:transparent; color:#ccc; cursor:pointer;">×</button>
  </div>

  <div id="authMessage" style="margin:8px 0; font-size:12px; color:#ddd;"></div>

  <label style="display:block; font-size:12px; margin-top:8px;">Email</label>
  <input id="authEmail" type="email" autocomplete="email" placeholder="you@example.com"
    style="width:100%; padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,0.15); background:#111218; color:#eee;" />

  <label style="display:block; font-size:12px; margin-top:8px;">Password</label>
  <input id="authPassword" type="password" autocomplete="current-password" placeholder="••••••••"
    style="width:100%; padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,0.15); background:#111218; color:#eee;" />

  <div style="display:flex; gap:8px; margin-top:10px;">
    <button id="signInBtn" type="button"
      style="flex:1; padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.2); background:#2a5bd7; color:#fff; cursor:pointer;">
      ログイン
    </button>
    <button id="signUpBtn" type="button"
      style="flex:1; padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.2); background:#1d1f2a; color:#fff; cursor:pointer;">
      新規登録
    </button>
  </div>

  <div style="display:flex; gap:8px; margin-top:8px;">
    <button id="signOutBtn" type="button"
      style="flex:1; padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.2); background:#3a1d1d; color:#fff; cursor:pointer;">
      ログアウト
    </button>
    <button id="forgotBtn" type="button"
      style="flex:1; padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.2); background:#1d1f2a; color:#fff; cursor:pointer;">
      パスワード再設定
    </button>
  </div>

  <div style="margin-top:10px; font-size:11px; color:#bbb;">
    <div>状態: <span id="authStatus">未ログイン</span></div>
    <div style="word-break:break-all;">UID: <span id="authUid">-</span></div>
  </div>
</section>

<!-- small launcher button (optional) -->
<button id="authOpenBtn" type="button"
  style="position:fixed; top:12px; right:12px; z-index:9998; padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.2); background:#111218; color:#fff; cursor:pointer;">
  ログイン
</button>

    <div class="main">
        <div class="top-row">
            <div class="controls">
                <!-- 日常（上3 / 下4） -->
                <div class="category" id="cat-daily" data-collapsed="false">
                    <div class="category-header" onclick="toggleCategory('cat-daily')">
                        <span class="category-title">日常</span>
                        <span class="category-arrow">▼</span>
                    </div>
                    <div class="category-body">
                        <div class="draw-row row3">
                            <button class="btn-game" onclick="startDaily('game','ゲーム')">ゲーム</button>
                            <button class="btn-outing" onclick="startDaily('outing','お出かけ')">お出かけ</button>
                            <button class="btn-exercise" onclick="startDaily('exercise','運動')">運動</button>
                        </div>
                        <div class="draw-row row4">
                            <button class="btn-job" onclick="startDaily('job','お仕事')">お仕事</button>
                            <button class="btn-secret" onclick="startDaily('secret','秘密')">秘密</button>
                            <button class="btn-sleep" onclick="startDaily('sleep','睡眠')">睡眠</button>
                        </div>
                    </div>
                </div>
                <!-- 作業用 -->
                <div class="category" id="cat-work" data-collapsed="false">
                    <div class="category-header" onclick="toggleCategory('cat-work')">
                        <span class="category-title">作業用</span>
                        <span class="category-arrow">▼</span>
                    </div>
                    <div class="category-body">
                        <div class="controls-group">
                            <button class="btn-work" onclick="startCategoryWork('work','作業')">作業</button>
                            <button class="btn-pause" onclick="pauseTimer()">一時停止</button>
                            <button class="btn-away" onclick="startBreak()">休憩</button>
                            <button class="btn-log" onclick="logWork()">作業記録</button>
                            <button class="btn-reset" onclick="resetTimer()">リセット</button>
                            <button class="btn-log" onclick="exportCSV()">CSV出力</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="stats">
                <div class="stats-panel" id="panel-basic" data-collapsed="false">
                    <div class="stats-panel-header" onclick="togglePanel('panel-basic')">
                        <span class="stats-panel-title">基本作業時間</span>
                        <span class="stats-panel-arrow">▼</span>
                    </div>
                    <div class="stats-panel-body">
                        <div>状態: <span id="status">一時停止</span></div>
                        <div>連続作業時間: <span id="contWork">00:00:00</span></div>
                        <div>総作業時間: <span id="totalWork">00:00:00</span></div>
                        <div>総休憩時間（権利）: <span id="totalRest">00:00:00</span></div>
                        <div>総休憩時間（実績）: <span id="totalBreak">00:00:00</span></div>
                        <div>残休憩時間: <span id="remainRest">00:00:00</span></div>
                        <div>総一時停止時間: <span id="totalPaused">00:00:00</span></div>
                    </div>
                </div>
                <div class="stats-panel" id="panel-switch" data-collapsed="false">
                    <div class="stats-panel-header" onclick="togglePanel('panel-switch')">
                        <span class="stats-panel-title">日常の集計</span>
                        <span class="stats-panel-arrow">▼</span>
                    </div>
                    <div class="stats-panel-body">
                        <div id="stats-daily">
                            <div>総ゲーム時間: <span id="totalGame">00:00:00</span></div>
                            <div>総お出かけ時間: <span id="totalOuting">00:00:00</span></div>
                            <div>総運動時間: <span id="totalExercise">00:00:00</span></div>
                            <div>総お仕事時間: <span id="totalJob">00:00:00</span></div>
                            <div>総秘密時間: <span id="totalSecret">00:00:00</span></div>
                            <div>総睡眠時間: <span id="totalSleep">00:00:00</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="table-container">
            <table id="logTable">
                <thead>
                    <tr>
                        <th class="col-index">連番</th>
                        <th class="col-type">状態</th>
                        <th class="col-start-date">開始日付</th>
                        <th class="col-start">開始</th>
                        <th class="col-end-date">終了日付</th>
                        <th class="col-end">終了</th>
                        <th class="col-total">合計</th>
                        <th class="col-important">重要メモ</th>
                        <th class="col-note">メモ</th>
                        <th class="col-action">操作</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
    <script type="module" src="./js/app.js"></script>
</body>
</html>
